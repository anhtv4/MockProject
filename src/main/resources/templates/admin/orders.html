
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>SB Admin 2 - Dashboard</title>
<th:block th:insert="~{fragments/ad_header::link}"></th:block>
</head>
<body id="page-top">

	<!-- Page Wrapper -->
	<div id="wrapper">
		<th:block th:insert="~{fragments/sidebar }"></th:block>
		<!-- Content Wrapper -->
		<div id="content-wrapper" class="d-flex flex-column">

			<!-- Main Content -->
			<div id="content">

				<th:block th:insert="~{fragments/topbar }"></th:block>

				<!-- Begin Page Content -->
				<div class="container-fluid">

					<!-- Page Heading -->
					<h1 class="h3 mb-2 text-gray-800">Orders</h1>
					<p class="mb-4"></p>

					<!-- DataTales Example -->
					<div class="card shadow mb-4">
						<div class="card-header py-3 d-flex align-items-center">
							<h6 class="m-0 font-weight-bold text-primary mr-3">DataTables</h6>
							
						</div>
						<div class="card-body">
							<div class="table-responsive">
								<table class="table table-bordered table-hover" id="dataTable" width="100%"
									cellspacing="0">
									<thead>
										<tr>
											<th>ID</th>
											<th>Order Date</th>
											<th>User Order</th>
											<th>Total</th>
											<th>Status</th>
											<th>Action</th>
										</tr>
									</thead>

									<tfoot>
										<tr>
											<th>ID</th>
											<th>Order Date</th>
											<th>User Order</th>
											<th>Total</th>
											<th>Status</th>
											<th>Action</th>
										</tr>
									</tfoot>
									<tbody>
										<th:block th:each="o : ${orders}">
											<tr onclick="show(event)">
												<td th:text="${o.id}"></td>
												<td th:text="${o.orderDate}"></td>
												<td th:text="${o.user.username}"></td>
												<td th:text="${o.total}"></td>
												<td th:switch="${o.status.name}"><span
													class="badge badge-primary" th:case="'Ordered'"
													th:text="${o.status}"></span> <span
													class="badge badge-success" th:case="'Approved'"
													th:text="${o.status}"></span> <span
													class="badge badge-danger" th:case="'Decline'"
													th:text="${o.status}"></span> <span
													class="badge badge-dark" th:case="*">Nothing</span></td>

												<td th:switch="${o.status.name}"><th:block
														th:case="'Ordered'">
														<a class="btn btn-success"
															th:href="'/admin/order/approved/'+${o.id}" role="button">Approved</a>
														<a class="btn btn-danger"
															th:href="'/admin/order/decline/'+${o.id}" role="button">Decline</a>
													</th:block>
													<div th:case="*"></div></td>
											</tr>
											
											<tr  th:class="'data' +${o.id} +' bg-secondary text-white order_detail d-none'">
												<td></td>
												<td></td>
												<td>Product Name</td>
												<td>Quantity</td>
												<td>Price</td>
												<td></td>
											</tr>
											<tr th:each="od : ${o.orderDetails}"
												th:class="'data' +${o.id} +' bg-secondary text-white order_detail d-none'">
												<td></td>
												<td></td>
												<td th:text="${od.product.name}"></td>
												<td th:text="${od.quantity}"></td>
												<td th:text="${od.sumPrice}"></td>
												<td></td>
											</tr>
										</th:block>
									</tbody>
								</table>
							</div>
						</div>
					</div>

					<!-- /.container-fluid -->

				</div>
				<!-- End of Main Content -->

				<!-- Footer -->
				<footer class="sticky-footer bg-white">
					<div class="container my-auto">
						<div class="copyright text-center my-auto">
							<span>Copyright &copy; Your Website 2021</span>
						</div>
					</div>
				</footer>
				<!-- End of Footer -->

			</div>
			<!-- End of Content Wrapper -->

		</div>
		
		
		<th:block th:insert="~{fragments/modal }"></th:block>
		<th:block th:insert="~{fragments/ad_footer::script}"></th:block>
</body>

</html>